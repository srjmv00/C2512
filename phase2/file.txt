void serveClient(int &client_socket_fd)
{
    char buffer[BUFFER_SIZE];

    // Receive the size of the array
    read(client_socket_fd, buffer, BUFFER_SIZE);
    int size = atoi(buffer);

    // Receive the array
    std::vector<double> arr(size);
    for (int i = 0; i < size; ++i)
    {
        read(client_socket_fd, buffer, BUFFER_SIZE);
        arr[i] = atof(buffer);
    }

    // Sort the array
    quickSort(arr, 0, size - 1);

    // Send the sorted array back
    for (const auto &num : arr)
    {
        std::string numStr = std::to_string(num);
        strcpy(buffer, numStr.c_str());
        write(client_socket_fd, buffer, BUFFER_SIZE);
    }

    std::cout << "Array sorted and sent to client." << std::endl;

    // Close client socket
    close(client_socket_fd);
}
